
/* Responsive adjustments for all devices */

/* Viewport fix for mobile devices */
@viewport {
  width: device-width;
  zoom: 1.0;
}

/* Ensure content is visible on all devices */
html, body {
  overflow-x: hidden;
  width: 100%;
  max-width: 100vw;
}

body {
  position: relative;
}

/* Landscape mode adjustments */
@media (orientation: landscape) {
  /* Adjustments for landscape mode on mobile */
  .drawer-content {
    max-height: 85vh !important;
  }
}

/* Mobile-first approach for all layouts */
.container {
  width: 100%;
  padding-left: 0.75rem;
  padding-right: 0.75rem;
}

@media (min-width: 640px) {
  .container {
    padding-left: 1rem;
    padding-right: 1rem;
  }
}

/* Desktop navbar styles */
@media (min-width: 1024px) {
  /* Styles pour centrer le menu de navigation */
  .desktop-nav-container {
    display: flex;
    justify-content: center;
    width: 100%;
  }

  .desktop-menu-container {
    display: flex;
    justify-content: center;
    flex-grow: 1;
  }
  
  nav .max-w-5xl {
    max-width: 95%; /* Utiliser plus d'espace horizontal */
  }
  
  /* Espace entre les liens de navigation - RÉDUIT */
  nav .nav-links-container {
    gap: 1rem !important; /* Réduit de 1.5rem à 1rem */
  }
  
  /* Logo beaucoup plus grand sur desktop - AGRANDI */
  nav .navbar-logo-container img {
    max-width: 280px !important;
    min-height: 80px !important; /* Agrandissement proportionnel en hauteur */
    min-width: auto;
    object-fit: contain;
  }
  
  /* Ajustements pour la nouvelle mise en page avec logo centré */
  nav .navbar-logo-container {
    margin-bottom: 1rem;
    display: flex;
    justify-content: center;
    width: 100%;
  }
}

/* Responsive logo and layout adjustments for mobile */
@media (max-width: 1023px) {
  img[alt="BiblioPulse Logo"] {
    max-width: 180px !important;
    max-height: 50px !important;
    min-width: 120px;
    object-fit: contain;
  }
  
  .navbar-logo-container {
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  /* Amélioration du footer en mobile */
  .footer-logo-container img {
    max-height: 40px !important;
    margin: 0 auto;
  }
  
  /* Fix pour les dialogues et sidebars sur mobile */
  [role="dialog"] {
    width: 100% !important;
    max-width: 100vw !important;
    max-height: 90vh !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
    position: fixed !important;
    touch-action: pan-y !important;
  }
  
  /* Styles pour les TabsList sur mobile - NOUVEAU */
  [role="tabslist"], .TabsList {
    display: flex !important;
    flex-direction: column !important;
    width: 100% !important;
    height: auto !important;
    gap: 0.5rem !important;
  }
  
  [role="tabslist"] button, .TabsList button {
    width: 100% !important;
    justify-content: center !important;
    padding: 0.75rem !important;
  }
  
  /* Fix for mobile drawer scrolling */
  [data-state="open"].drawer-content, .drawer-content {
    max-height: 90vh !important; 
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }
  
  /* Ensure login forms are scrollable on mobile */
  .auth-form-container {
    overflow-y: auto !important;
    max-height: 80vh !important;
    -webkit-overflow-scrolling: touch !important;
    padding-bottom: 4rem !important;
    touch-action: pan-y !important;
    -webkit-tap-highlight-color: transparent !important;
  }
}

/* Fix pour l'affichage de la sidebar sur mobile dans les pages détaillées */
@media (max-width: 1023px) {
  .book-details-sidebar {
    position: relative !important;
    width: 100% !important;
    min-width: 0 !important;
    max-width: 100% !important;
    left: 0 !important;
  }
  
  /* Ensure menu has proper height and scrolling */
  .drawer-content {
    max-height: 90vh !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }
}

/* Logo responsive adjustments */
img[alt="BiblioPulse Logo"] {
  max-width: 100%;
  height: auto;
}

/* NOUVEAUX CORRECTIFS POUR LE FORMULAIRE D'AUTHENTIFICATION SUR MOBILE */
@media (max-width: 767px) {
  [role="dialog"] {
    top: 0 !important;
    bottom: 0 !important;
    max-height: 100vh !important; 
    height: 100% !important;
    border-radius: 0 !important;
    overscroll-behavior: none !important;
    overscroll-behavior-y: contain !important;
    -webkit-overflow-scrolling: touch !important;
    position: fixed !important;
  }
  
  .DialogContent {
    max-height: 95vh !important;
    padding-bottom: 100px !important; /* Augmenté pour plus d'espace */
    overscroll-behavior: contain !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
    position: relative !important;
  }
  
  .ScrollArea {
    overflow-y: visible !important;
    height: auto !important;
    min-height: 70vh !important;
  }
  
  .auth-form-container {
    margin-bottom: 4rem !important;
    padding-bottom: 8rem !important; /* Augmenté pour plus d'espace */
    max-height: 100% !important;
    height: auto !important;
    -webkit-user-select: none !important;
    user-select: none !important;
    touch-action: manipulation !important;
    overflow-y: visible !important;
  }
  
  /* Agrandir et améliorer les boutons pour faciliter les clics sur mobile */
  .auth-form-container button[type="submit"] {
    height: 54px !important; /* Plus grand pour faciliter le clic */
    font-size: 16px !important;
    margin-top: 2rem !important;
    margin-bottom: 2rem !important;
    touch-action: manipulation !important;
    position: relative !important;
    z-index: 10 !important;
    width: 100% !important;
  }
  
  /* Désactiver le comportement de zoom sur les inputs */
  .auth-form-container input {
    font-size: 16px !important; /* Évite le zoom sur iOS */
    touch-action: manipulation !important;
    height: 50px !important; /* Plus grand pour faciliter le clic */
  }

  /* Fix pour les problèmes de scroll et de focus sur iOS */
  .auth-form-container form {
    padding-bottom: 100px !important; /* Plus grand pour éviter les problèmes de scroll */
    margin-bottom: 50px !important;
    position: relative !important;
    z-index: 5 !important;
  }
  
  /* Amélioration pour la lisibilité des formulaires */
  .DialogHeader {
    margin-bottom: 1.5rem !important;
  }
  
  /* Visibilité améliorée des messages d'erreur */
  [role="alert"] {
    margin-bottom: 1.5rem !important;
  }
  
  /* Fix spécifique pour empêcher le scroll automatique sur les formulaires */
  .auth-form-container input:focus {
    position: relative !important;
    transform: translateY(0) !important;
  }
  
  /* Empêcher le viewport mobile de se déplacer lors de la saisie */
  .DialogContent {
    padding: 1.5rem !important;
    padding-bottom: 150px !important; /* Extra padding to ensure form is fully visible */
  }
}

/* Fixes for iOS scroll behavior in auth modals */
@supports (-webkit-touch-callout: none) {
  .DialogContent, .auth-form-container {
    overflow-y: scroll !important;
    -webkit-overflow-scrolling: touch !important;
  }
  
  .auth-form-container form {
    padding-bottom: 150px !important; /* Plus grand pour iOS */
  }
  
  /* Fix supplémentaire pour iOS pour empêcher le rebond du scroll */
  body.modal-open {
    position: fixed;
    width: 100%;
  }
  
  /* Empêcher le clavier iOS de faire défiler la page */
  input, textarea {
    position: relative !important;
    z-index: 1 !important;
  }
}
